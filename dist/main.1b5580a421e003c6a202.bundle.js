webpackJsonp([1,4],{331:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e){this.date=t,this.events=e}return t.prototype.allAreInactive=function(){var t=!0;return this.events.forEach(function(e){e.isActive&&(t=!1)}),t},t}()},332:function(t,e,n){"use strict";var r=n(0),o=n(145),i=n(674),a=(n.n(i),n(65));n.d(e,"a",function(){return f});var c=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e){this.http=t,this.tokenService=e,this.URL="http://zenith-society-nj-core.azurewebsites.net/api/events",this.URL_ANON="http://zenith-society-nj-core.azurewebsites.net/api/events/anon",this.activities=new Map}return t.prototype.getEvents=function(){var t=new o.b;t.append("Authorization","Bearer "+this.tokenService.getToken()),t.append("content-type","application/json");var e=new o.c({headers:t}),n=this.http.get(this.tokenService.isLoggedIn()?this.URL:this.URL_ANON,e).toPromise().then(function(t){return t.json()}).catch(this.handleError);return n},t.prototype.convertToEvents=function(t){return console.log(t),null},t.prototype.handleError=function(t){return Promise.reject(t.message||t)},t=c([n.i(r.c)(),s("design:paramtypes",["function"==typeof(e=void 0!==o.d&&o.d)&&e||Object,"function"==typeof(i=void 0!==a.a&&a.a)&&i||Object])],t);var e,i}()},388:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=388},389:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(476),o=n(0),i=n(512),a=n(507);i.a.production&&n.i(o.a)(),n.i(r.a)().bootstrapModule(a.a)},506:function(t,e,n){"use strict";var r=n(0),o=n(65);n.d(e,"a",function(){return c});var i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.tokenService=t,this.title="Zenith Society"}return t.prototype.logout=function(){this.tokenService.logOut()},t=i([n.i(r._6)({selector:"app-root",template:n(666),styles:[n(664)]}),a("design:paramtypes",["function"==typeof(e=void 0!==o.a&&o.a)&&e||Object])],t);var e}()},507:function(t,e,n){"use strict";var r=n(149),o=n(0),i=n(467),a=n(145),c=n(325),s=n(506),f=n(332),u=n(509),l=n(508),p=n(510),d=n(511),h=n(65);n.d(e,"a",function(){return y});var v=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},g=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y=function(){function t(){}return t=v([n.i(o.b)({declarations:[s.a,u.a,l.a,p.a,d.a],imports:[r.a,i.a,a.a,c.a.forRoot([{path:"",redirectTo:"/events",pathMatch:"full"},{path:"events",component:u.a},{path:"login",component:p.a},{path:"register",component:d.a},{path:"events/:id",component:u.a,canActivate:[h.a]}])],providers:[f.a,h.a],bootstrap:[s.a]}),g("design:paramtypes",[])],t)}()},508:function(t,e,n){"use strict";var r=n(0),o=n(331),i=n(65);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.tokenService=t}return a([n.i(r.w)(),c("design:type","function"==typeof(e=void 0!==o.a&&o.a)&&e||Object)],t.prototype,"entry",void 0),t=a([n.i(r._6)({selector:"event-entry",template:n(667)}),c("design:paramtypes",["function"==typeof(s=void 0!==i.a&&i.a)&&s||Object])],t);var e,s}()},509:function(t,e,n){"use strict";var r=n(0),o=n(325),i=n(332),a=n(331),c=n(65);n.d(e,"a",function(){return u});var s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n){this.eventservice=t,this.route=e,this.tokenService=n}return t.prototype.getEvents=function(){var t=this;this.eventservice.getEvents().then(function(e){return t.events=e}).then(function(e){t.getUniqueDatesForWeek(e)})},t.prototype.getUniqueDatesForWeek=function(t){var e=this;this.dates=[],this.convertStringsToDates(),t.forEach(function(t){e.dates.some(function(n){return e.convertDate(n)===e.convertDate(t.eventFromDate)})||e.dates.push(t.eventFromDate)}),this.generateEntries()},t.prototype.convertStringsToDates=function(){this.events.forEach(function(t){t.creationDate=new Date(t.creationDate),t.eventFromDate=new Date(t.eventFromDate),t.eventToDate=new Date(t.eventToDate)})},t.prototype.generateEntries=function(){var t=this;this.entries=[],this.dates.forEach(function(e){e.getTime()>=t.changeDateBy(t.getStartOfWeek(),7*t.id-1).getTime()&&e.getTime()<t.changeDateBy(t.getEndOfWeek(),7*t.id).getTime()&&t.entries.push(new a.a(e,t.getActivitiesInDay(e)))}),this.entries.sort(function(t,e){return t.date.getTime()-e.date.getTime()})},t.prototype.getActivitiesInDay=function(t){var e=this,n=new Array;return this.events.forEach(function(r){e.convertDate(r.eventFromDate)===e.convertDate(t)&&n.push(r)}),n},t.prototype.convertDate=function(t){return t.getFullYear().toString()+t.getMonth().toString()+t.getDate().toString()},t.prototype.changeDateBy=function(t,e){return t.setDate(t.getDate()+e),t},t.prototype.getStartOfWeek=function(){var t=new Date,e=t.getDay(),n=t.getDate()-e+(0==e?-6:1);return new Date(t.setDate(n))},t.prototype.getEndOfWeek=function(){return this.changeDateBy(this.getStartOfWeek(),6)},t.prototype.ngOnInit=function(){this.isLoggedIn=this.tokenService.isLoggedIn(),this.id=0,this.getEvents()},t.prototype.navForward=function(){this.id--,this.getEvents()},t.prototype.navBackward=function(){this.id++,this.getEvents()},t=s([n.i(r._6)({selector:"event-view",template:n(668),styles:[n(665)]}),f("design:paramtypes",["function"==typeof(e=void 0!==i.a&&i.a)&&e||Object,"function"==typeof(u=void 0!==o.b&&o.b)&&u||Object,"function"==typeof(l=void 0!==c.a&&c.a)&&l||Object])],t);var e,u,l}()},510:function(t,e,n){"use strict";var r=n(0),o=n(145),i=n(65);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e){this.http=t,this.tokenService=e,this.URL="http://zenith-society-nj-core.azurewebsites.net/connect/token/"}return t.prototype.onSubmit=function(){this.login(this.username,this.password)},t.prototype.login=function(t,e){var n=this,r="username="+t+"&password="+e+"&grant_type=password",i=new o.b({"Content-Type":"application/x-www-form-urlencoded"}),a=new o.c({headers:i});return this.http.post(this.URL,r,a).toPromise().then(function(t){var e=t.json();n.tokenService.setToken(e.access_token)})},t=a([n.i(r._6)({selector:"login",template:n(669)}),c("design:paramtypes",["function"==typeof(e=void 0!==o.d&&o.d)&&e||Object,"function"==typeof(s=void 0!==i.a&&i.a)&&s||Object])],t);var e,s}()},511:function(t,e,n){"use strict";var r=n(0),o=n(145),i=n(65);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e){this.http=t,this.tokenService=e,this.URL="http://zenith-society-nj-core.azurewebsites.net/Account/Register"}return t.prototype.onSubmit=function(){this.register(this.username,this.password,this.email,this.firstname,this.lastname)},t.prototype.register=function(t,e,n,r,i){var a=this,c="username="+t+"&password="+e+"&confirmpassword="+e+"&email="+n+"&firstname="+r+"&lastname="+i,s=new o.b({"Content-Type":"application/x-www-form-urlencoded"}),f=new o.c({headers:s});return this.http.post(this.URL,c,f).toPromise().then(function(t){var e=t.json();a.tokenService.setToken(e.access_token)})},t=a([n.i(r._6)({selector:"register",template:n(670)}),c("design:paramtypes",["function"==typeof(e=void 0!==o.d&&o.d)&&e||Object,"function"==typeof(s=void 0!==i.a&&i.a)&&s||Object])],t);var e,s}()},512:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={production:!0}},65:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.TOKEN_NAME="zenithToken"}return t.prototype.getToken=function(){var t=localStorage.getItem(this.TOKEN_NAME);return void 0==t?"":t},t.prototype.setToken=function(t){localStorage.setItem(this.TOKEN_NAME,t)},t.prototype.isLoggedIn=function(){return this.getToken().length>0},t.prototype.logOut=function(){localStorage.setItem(this.TOKEN_NAME,"")},t.prototype.canActivate=function(t,e){return this.isLoggedIn()},t=o([n.i(r.c)(),i("design:paramtypes",[])],t)}()},664:function(t,e){t.exports=""},665:function(t,e){t.exports=""},666:function(t,e){t.exports='<div class="jumbotron text-center">\r\n  <h1>\r\n    {{title}}\r\n  </h1>\r\n</div>\r\n<nav class="navbar navbar-default navbar-fixed-top">\r\n  <div class="container">\r\n    <div class="navbar-header">\r\n      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">\r\n        <span class="icon-bar"></span>\r\n        <span class="icon-bar"></span>\r\n        <span class="icon-bar"></span> \r\n      </button>\r\n       <a class="navbar-brand" *ngIf="tokenService.isLoggedIn()">You are logged in</a>\r\n    </div>\r\n    <div class="collapse navbar-collapse" id="myNavbar">\r\n      <ul class="nav navbar-nav navbar-right">\r\n        <li><a routerLink="/events" routerLinkActive="active">EVENTS</a></li>\r\n        <li><a routerLink="/register" routerLinkActive="active">REGISTER</a></li>\r\n        <li><a *ngIf="!tokenService.isLoggedIn()" routerLink="/login" routerLinkActive="active">LOGIN</a></li>\r\n        <li><a *ngIf="tokenService.isLoggedIn()" routerLink="/login" routerLinkActive="active" (click)="logout()">LOGOUT</a></li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</nav>\r\n<router-outlet></router-outlet>\r\n'},667:function(t,e){t.exports="<tr><p>{{entry.date | date: 'EEEE MMMM d, y'}}</p></tr>\r\n<tr *ngFor=\"let event of entry.events\">\r\n    <td><p>{{event.activity.activityDescription}}</p></td>\r\n    <td [hidden]=\"!tokenService.isLoggedIn() && !event.isActive\"><p>{{event.eventFromDate | date: 'hh:mm:a'}} - {{event.eventToDate | date: 'hh:mm:a'}}</p></td>\r\n</tr>"},668:function(t,e){t.exports='<div class="container">\r\n    <h1 class="form-account-heading">Events</h1>    \r\n    <table class="table table-hover table-bordered">\r\n        <tr *ngFor="let entry of entries">\r\n            <event-entry [entry]="entry" [hidden]="entry.allAreInactive() && !isLoggedIn"></event-entry>\r\n        </tr>\r\n    </table>\r\n    <div class="col-md-12 text-center">\r\n        <button class="btn btn-lg btn-danger" (click)="navForward()" *ngIf="isLoggedIn"> </button>\r\n        <button class="btn btn-lg btn-danger" (click)="navBackward()" *ngIf="isLoggedIn"> </button>\r\n    </div>\r\n</div>'},669:function(t,e){t.exports='<div class="container">\r\n    <form class="form-account" (ngSubmit)="onSubmit()" [hidden]="tokenService.isLoggedIn()">\r\n        <h1 class="form-account-heading text-muted">Login</h1>\r\n        <input type="text" class="form-control" [(ngModel)]="username" placeholder="Enter Username" name="username" required="" autofocus="" />\r\n        <input type="password" class="form-control" [(ngModel)]="password" placeholder="Enter Password" name="password" required="" />\r\n        <button class="btn btn-lg btn-danger btn-block" type="submit">Login</button>\r\n    </form>\r\n    <h1 class="form-account-heading" *ngIf="tokenService.isLoggedIn()">You are logged in</h1>\r\n</div>'},670:function(t,e){t.exports='<div class="container">\r\n    <form class="form-account" (ngSubmit)="onSubmit()">\r\n        <h1 class="form-account-heading text-muted">Register</h1>\r\n        <label>Username: </label>\r\n        <input type="text" class="form-control" [(ngModel)]="username" placeholder="Enter Username" name="username" required />\r\n        <br />\r\n        <label>Password: </label>\r\n        <input type="text" class="form-control" [(ngModel)]="password" placeholder="Enter Password" name="password" required />\r\n        <br />\r\n        <label>Email: </label>\r\n        <input type="text" class="form-control" [(ngModel)]="email" placeholder="Enter Email" name="email" required />\r\n        <br />\r\n        <label>First Name: </label>\r\n        <input type="text" class="form-control" [(ngModel)]="firstname" placeholder="Enter First Name" name="firstname" required />\r\n        <br />\r\n        <label>Last Name: </label>\r\n        <input type="text" class="form-control" [(ngModel)]="lastname" placeholder="Enter Last Name" name="lastname" required />\r\n        <br />\r\n        <button class="btn btn-lg btn-danger btn-block" type="submit" >Register</button>\r\n    </form>\r\n</div>'},687:function(t,e,n){t.exports=n(389)}},[687]);